{"ast":null,"code":"var _jsxFileName = \"/Users/aluabajzanova/Desktop/skyline\\xA0/src/pages/DirectionRoute/DirectionRoute.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\nimport { useSearchParams } from 'react-router-dom';\nimport Button from \"../../components/Button\";\nimport Header from \"../../components/Header/Header\";\nimport Footer from \"../../components/Footer\";\nimport Tickets from \"../../components/Tickets/Tickets\";\nimport TicketList from \"../../components/TicketList/TicketList\";\n// import airAstana from \"../../images/airastana.png\"\nimport findIcon from \"../../images/findicon.png\";\nimport oneStopFlight from \"../../images/onestop.png\";\nimport MainPage from \"../MainPage/MainPage\";\nimport s from \"./DirectionRoute.module.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst endpoint = \"https://skyscanner44.p.rapidapi.com/search\";\nfunction DirectionRoute() {\n  _s();\n  var _response$, _response$$items, _response$2, _response$2$items;\n  const [response, setResponse] = useState(\"\");\n  const [id, setId] = useState(\"\");\n  // const [items, setItems] = useState(\"\");\n  const [searchParams, setSearchParams] = useSearchParams();\n  const adults = searchParams.get(\"adults\");\n  const origin = searchParams.get(\"origin\");\n  const destination = searchParams.get(\"destination\");\n  const date = searchParams.get(\"departureDate\");\n  const currency = searchParams.get(\"currency\");\n  // console.log(response);\n  // const { user } = useSelector((state) => state.user);\n  const navigate = useNavigate();\n\n  // const dispatch = useDispatch();\n\n  // const onLogOut = () => {\n  //   dispatch(logOut());\n  // };\n\n  useEffect(() => {\n    const getData = async () => {\n      try {\n        const response = await fetch(`${endpoint}?adults=${adults}&origin=${origin}&destination=${destination}&departureDate=${date}&currency=${currency}`, {\n          method: \"GET\",\n          headers: {\n            \"X-RapidAPI-Key\": \"b0437280d1mshb124b9c5730dd71p157314jsnc158830aaf5e\",\n            // if status 429 uncomment this\n            //   'X-RapidAPI-Key': 'd100136919msh272d5b04d6ac174p1bd629jsnadb7bac2073d', \n            \"X-RapidAPI-Host\": \"skyscanner44.p.rapidapi.com\",\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        const data = await response.json();\n        setResponse(data.itineraries.buckets);\n        console.log(data.itineraries.buckets);\n      } catch (error) {\n        return error;\n      }\n    };\n    getData();\n  }, [adults, origin, destination, date, currency]);\n  const onSubmitPress = async (e, id) => {\n    e.preventDefault();\n    const response = `${endpoint}?adults=${adults}&origin=${origin}&destination=${destination}&departureDate=${date}&currency=${currency}`;\n    navigate(`/passenger?${response}?items?id${id}`);\n    console.log(`${response}?items?0?id${id}`);\n  };\n  function toHoursAndMinutes(durationInMinutes) {\n    const minutes = durationInMinutes % 60;\n    const hours = Math.floor(durationInMinutes / 60);\n    return `${hours}h${minutes > 0 ? ` ${minutes}m` : ''}`;\n  }\n  function removeSpecial(character) {\n    if (!character) return;\n    return character.replace(/[T]/g, \" \");\n    // let withoutCharacter = character.replace(/[T-]/g, \" \")\n    // let withoutCharacter = character.split(\"T\").join(\"\")\n    // let withoutCharacter = character.replaceAll(\"T\", \"\").replaceAll(\"-\", \"\")\n    // return withoutCharacter;\n    // return departure.replace(\"T\", \" \");\n    // return arrival.replace(/[T-]/g, \" \");\n  }\n  //   console.log(removeSpecial(\"2023-09-08T06:30:00\"));\n  // console.log(response[0].items[0].id);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.wrapper,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.directionNameBlock,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: findIcon,\n          alt: \"find\",\n          className: s.findIcon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: s.directionCity,\n          children: [\" \", response === null || response === void 0 ? void 0 : (_response$ = response[0]) === null || _response$ === void 0 ? void 0 : (_response$$items = _response$.items) === null || _response$$items === void 0 ? void 0 : _response$$items[0].legs[0].origin.city, \" - \", response === null || response === void 0 ? void 0 : (_response$2 = response[0]) === null || _response$2 === void 0 ? void 0 : (_response$2$items = _response$2.items) === null || _response$2$items === void 0 ? void 0 : _response$2$items[0].legs[0].destination.city]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: s.date,\n          children: date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: s.status,\n          children: [\"Adult: \", adults]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Tickets, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n}\n_s(DirectionRoute, \"DCRXdE/l9aBssRkzuElb9d9SEHA=\", false, function () {\n  return [useSearchParams, useNavigate];\n});\n_c = DirectionRoute;\nexport default DirectionRoute;\nvar _c;\n$RefreshReg$(_c, \"DirectionRoute\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useLocation","useSearchParams","Button","Header","Footer","Tickets","TicketList","findIcon","oneStopFlight","MainPage","s","jsxDEV","_jsxDEV","Fragment","_Fragment","endpoint","DirectionRoute","_s","_response$","_response$$items","_response$2","_response$2$items","response","setResponse","id","setId","searchParams","setSearchParams","adults","get","origin","destination","date","currency","navigate","getData","fetch","method","headers","data","json","itineraries","buckets","console","log","error","onSubmitPress","e","preventDefault","toHoursAndMinutes","durationInMinutes","minutes","hours","Math","floor","removeSpecial","character","replace","children","fileName","_jsxFileName","lineNumber","columnNumber","className","wrapper","directionNameBlock","src","alt","directionCity","items","legs","city","status","_c","$RefreshReg$"],"sources":["/Users/aluabajzanova/Desktop/skylineÂ /src/pages/DirectionRoute/DirectionRoute.jsx"],"sourcesContent":["import React,{useState, useEffect} from \"react\";\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\nimport { useSearchParams } from 'react-router-dom';\nimport Button from \"../../components/Button\"\nimport Header from \"../../components/Header/Header\";\nimport Footer from \"../../components/Footer\";\nimport Tickets from \"../../components/Tickets/Tickets\";\nimport TicketList from \"../../components/TicketList/TicketList\";\n// import airAstana from \"../../images/airastana.png\"\nimport findIcon from \"../../images/findicon.png\";\nimport oneStopFlight from \"../../images/onestop.png\";\nimport MainPage from \"../MainPage/MainPage\";\n\nimport s from \"./DirectionRoute.module.scss\";\nconst endpoint =\n  \"https://skyscanner44.p.rapidapi.com/search\";\n\nfunction DirectionRoute() {\n\n    const [response, setResponse] = useState(\"\");\n    const [id, setId] = useState(\"\");\n    // const [items, setItems] = useState(\"\");\n    const [searchParams, setSearchParams] = useSearchParams();\n    const adults = searchParams.get(\"adults\");\n    const origin = searchParams.get(\"origin\");\n    const destination = searchParams.get(\"destination\");\n    const date = searchParams.get(\"departureDate\");\n    const currency = searchParams.get(\"currency\");\n    // console.log(response);\n    // const { user } = useSelector((state) => state.user);\n    const navigate = useNavigate();\n  \n    // const dispatch = useDispatch();\n  \n    // const onLogOut = () => {\n    //   dispatch(logOut());\n    // };\n  \n    \n     useEffect(()=> {\n        const getData = async () => {\n            try {\n                const response = await fetch(\n                  `${endpoint}?adults=${adults}&origin=${origin}&destination=${destination}&departureDate=${date}&currency=${currency}`,\n                  {\n                    method: \"GET\",\n                    headers: {\n                      \"X-RapidAPI-Key\":\n                        \"b0437280d1mshb124b9c5730dd71p157314jsnc158830aaf5e\",\n                        // if status 429 uncomment this\n                        //   'X-RapidAPI-Key': 'd100136919msh272d5b04d6ac174p1bd629jsnadb7bac2073d', \n                      \"X-RapidAPI-Host\": \"skyscanner44.p.rapidapi.com\",\n                      \"Content-Type\": \"application/json\",\n                    },\n                  }\n                );\n                const data = await response.json();\n                setResponse(data.itineraries.buckets);\n                console.log(data.itineraries.buckets);\n              } catch (error) {\n                return error;\n              }\n        }\n        getData()\n     },[adults, origin, destination, date, currency])\n    \n     const onSubmitPress = async (e, id) => {\n        e.preventDefault();\n        const response =   `${endpoint}?adults=${adults}&origin=${origin}&destination=${destination}&departureDate=${date}&currency=${currency}`\n        navigate(`/passenger?${response}?items?id${id}`)\n        console.log(`${response}?items?0?id${id}`);\n     }\n     function toHoursAndMinutes(durationInMinutes) {\n        const minutes = durationInMinutes % 60;\n        const hours = Math.floor(durationInMinutes / 60);\n      \n        return `${hours}h${minutes > 0 ? ` ${minutes}m` : ''}`;\n      }\n      function removeSpecial(character) {\n        if(!character) return\n        return character.replace(/[T]/g, \" \", );\n        // let withoutCharacter = character.replace(/[T-]/g, \" \")\n        // let withoutCharacter = character.split(\"T\").join(\"\")\n        // let withoutCharacter = character.replaceAll(\"T\", \"\").replaceAll(\"-\", \"\")\n        // return withoutCharacter;\n        // return departure.replace(\"T\", \" \");\n        // return arrival.replace(/[T-]/g, \" \");\n      }\n    //   console.log(removeSpecial(\"2023-09-08T06:30:00\"));\n    // console.log(response[0].items[0].id);\n    return(\n        <>\n        <Header/>\n        \n        <div className={s.wrapper}>\n    \n            <div className={s.directionNameBlock}>\n            <img src={findIcon} alt=\"find\" className={s.findIcon} />\n                <h4 className={s.directionCity}> {response?.[0]?.items?.[0].legs[0].origin.city} - {response?.[0]?.items?.[0].legs[0].destination.city}</h4>\n                <p className={s.date}>{date}</p>\n                <span className={s.status}>Adult: {adults}</span>\n            </div>\n        </div>\n\n                \n        \n            \n        {/* <TicketList/> */}\n        <Tickets/>\n                {/* </div>\n                </div> */}\n                <Footer/>\n        </>\n    )\n}\nexport default DirectionRoute;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}