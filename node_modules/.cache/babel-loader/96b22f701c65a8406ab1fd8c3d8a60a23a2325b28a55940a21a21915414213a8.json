{"ast":null,"code":"// Ported from https://github.com/nodejs/undici/pull/907\n\n'use strict';\n\nconst assert = require('assert');\nconst {\n  Readable\n} = require('stream');\nconst {\n  RequestAbortedError,\n  NotSupportedError,\n  InvalidArgumentError\n} = require('../core/errors');\nconst util = require('../core/util');\nconst {\n  ReadableStreamFrom,\n  toUSVString\n} = require('../core/util');\nlet Blob;\nconst kConsume = Symbol('kConsume');\nconst kReading = Symbol('kReading');\nconst kBody = Symbol('kBody');\nconst kAbort = Symbol('abort');\nconst kContentType = Symbol('kContentType');\nmodule.exports = class BodyReadable extends Readable {\n  constructor(_ref) {\n    let {\n      resume,\n      abort,\n      contentType = '',\n      highWaterMark = 64 * 1024 // Same as nodejs fs streams.\n    } = _ref;\n    super({\n      autoDestroy: true,\n      read: resume,\n      highWaterMark\n    });\n    this._readableState.dataEmitted = false;\n    this[kAbort] = abort;\n    this[kConsume] = null;\n    this[kBody] = null;\n    this[kContentType] = contentType;\n\n    // Is stream being consumed through Readable API?\n    // This is an optimization so that we avoid checking\n    // for 'data' and 'readable' listeners in the hot path\n    // inside push().\n    this[kReading] = false;\n  }\n  destroy(err) {\n    if (this.destroyed) {\n      // Node < 16\n      return this;\n    }\n    if (!err && !this._readableState.endEmitted) {\n      err = new RequestAbortedError();\n    }\n    if (err) {\n      this[kAbort]();\n    }\n    return super.destroy(err);\n  }\n  emit(ev) {\n    if (ev === 'data') {\n      // Node < 16.7\n      this._readableState.dataEmitted = true;\n    } else if (ev === 'error') {\n      // Node < 16\n      this._readableState.errorEmitted = true;\n    }\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    return super.emit(ev, ...args);\n  }\n  on(ev) {\n    if (ev === 'data' || ev === 'readable') {\n      this[kReading] = true;\n    }\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n    return super.on(ev, ...args);\n  }\n  addListener(ev) {\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n    return this.on(ev, ...args);\n  }\n  off(ev) {\n    for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n      args[_key4 - 1] = arguments[_key4];\n    }\n    const ret = super.off(ev, ...args);\n    if (ev === 'data' || ev === 'readable') {\n      this[kReading] = this.listenerCount('data') > 0 || this.listenerCount('readable') > 0;\n    }\n    return ret;\n  }\n  removeListener(ev) {\n    for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n      args[_key5 - 1] = arguments[_key5];\n    }\n    return this.off(ev, ...args);\n  }\n  push(chunk) {\n    if (this[kConsume] && chunk !== null && this.readableLength === 0) {\n      consumePush(this[kConsume], chunk);\n      return this[kReading] ? super.push(chunk) : true;\n    }\n    return super.push(chunk);\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-text\n  async text() {\n    return consume(this, 'text');\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-json\n  async json() {\n    return consume(this, 'json');\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-blob\n  async blob() {\n    return consume(this, 'blob');\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-arraybuffer\n  async arrayBuffer() {\n    return consume(this, 'arrayBuffer');\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-formdata\n  async formData() {\n    // TODO: Implement.\n    throw new NotSupportedError();\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-bodyused\n  get bodyUsed() {\n    return util.isDisturbed(this);\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-body\n  get body() {\n    if (!this[kBody]) {\n      this[kBody] = ReadableStreamFrom(this);\n      if (this[kConsume]) {\n        // TODO: Is this the best way to force a lock?\n        this[kBody].getReader(); // Ensure stream is locked.\n        assert(this[kBody].locked);\n      }\n    }\n    return this[kBody];\n  }\n  async dump(opts) {\n    let limit = opts && Number.isFinite(opts.limit) ? opts.limit : 262144;\n    const signal = opts && opts.signal;\n    const abortFn = () => {\n      this.destroy();\n    };\n    if (signal) {\n      if (typeof signal !== 'object' || !('aborted' in signal)) {\n        throw new InvalidArgumentError('signal must be an AbortSignal');\n      }\n      util.throwIfAborted(signal);\n      signal.addEventListener('abort', abortFn, {\n        once: true\n      });\n    }\n    try {\n      for await (const chunk of this) {\n        util.throwIfAborted(signal);\n        limit -= Buffer.byteLength(chunk);\n        if (limit < 0) {\n          return;\n        }\n      }\n    } catch {\n      util.throwIfAborted(signal);\n    } finally {\n      if (signal) {\n        signal.removeEventListener('abort', abortFn);\n      }\n    }\n  }\n};\n\n// https://streams.spec.whatwg.org/#readablestream-locked\nfunction isLocked(self) {\n  // Consume is an implicit lock.\n  return self[kBody] && self[kBody].locked === true || self[kConsume];\n}\n\n// https://fetch.spec.whatwg.org/#body-unusable\nfunction isUnusable(self) {\n  return util.isDisturbed(self) || isLocked(self);\n}\nasync function consume(stream, type) {\n  if (isUnusable(stream)) {\n    throw new TypeError('unusable');\n  }\n  assert(!stream[kConsume]);\n  return new Promise((resolve, reject) => {\n    stream[kConsume] = {\n      type,\n      stream,\n      resolve,\n      reject,\n      length: 0,\n      body: []\n    };\n    stream.on('error', function (err) {\n      consumeFinish(this[kConsume], err);\n    }).on('close', function () {\n      if (this[kConsume].body !== null) {\n        consumeFinish(this[kConsume], new RequestAbortedError());\n      }\n    });\n    process.nextTick(consumeStart, stream[kConsume]);\n  });\n}\nfunction consumeStart(consume) {\n  if (consume.body === null) {\n    return;\n  }\n  const {\n    _readableState: state\n  } = consume.stream;\n  for (const chunk of state.buffer) {\n    consumePush(consume, chunk);\n  }\n  if (state.endEmitted) {\n    consumeEnd(this[kConsume]);\n  } else {\n    consume.stream.on('end', function () {\n      consumeEnd(this[kConsume]);\n    });\n  }\n  consume.stream.resume();\n  while (consume.stream.read() != null) {\n    // Loop\n  }\n}\nfunction consumeEnd(consume) {\n  const {\n    type,\n    body,\n    resolve,\n    stream,\n    length\n  } = consume;\n  try {\n    if (type === 'text') {\n      resolve(toUSVString(Buffer.concat(body)));\n    } else if (type === 'json') {\n      resolve(JSON.parse(Buffer.concat(body)));\n    } else if (type === 'arrayBuffer') {\n      const dst = new Uint8Array(length);\n      let pos = 0;\n      for (const buf of body) {\n        dst.set(buf, pos);\n        pos += buf.byteLength;\n      }\n      resolve(dst);\n    } else if (type === 'blob') {\n      if (!Blob) {\n        Blob = require('buffer').Blob;\n      }\n      resolve(new Blob(body, {\n        type: stream[kContentType]\n      }));\n    }\n    consumeFinish(consume);\n  } catch (err) {\n    stream.destroy(err);\n  }\n}\nfunction consumePush(consume, chunk) {\n  consume.length += chunk.length;\n  consume.body.push(chunk);\n}\nfunction consumeFinish(consume, err) {\n  if (consume.body === null) {\n    return;\n  }\n  if (err) {\n    consume.reject(err);\n  } else {\n    consume.resolve();\n  }\n  consume.type = null;\n  consume.stream = null;\n  consume.resolve = null;\n  consume.reject = null;\n  consume.length = 0;\n  consume.body = null;\n}","map":{"version":3,"names":["assert","require","Readable","RequestAbortedError","NotSupportedError","InvalidArgumentError","util","ReadableStreamFrom","toUSVString","Blob","kConsume","Symbol","kReading","kBody","kAbort","kContentType","module","exports","BodyReadable","constructor","_ref","resume","abort","contentType","highWaterMark","autoDestroy","read","_readableState","dataEmitted","destroy","err","destroyed","endEmitted","emit","ev","errorEmitted","_len","arguments","length","args","Array","_key","on","_len2","_key2","addListener","_len3","_key3","off","_len4","_key4","ret","listenerCount","removeListener","_len5","_key5","push","chunk","readableLength","consumePush","text","consume","json","blob","arrayBuffer","formData","bodyUsed","isDisturbed","body","getReader","locked","dump","opts","limit","Number","isFinite","signal","abortFn","throwIfAborted","addEventListener","once","Buffer","byteLength","removeEventListener","isLocked","self","isUnusable","stream","type","TypeError","Promise","resolve","reject","consumeFinish","process","nextTick","consumeStart","state","buffer","consumeEnd","concat","JSON","parse","dst","Uint8Array","pos","buf","set"],"sources":["/Users/aluabajzanova/Desktop/skylineÂ /node_modules/undici/lib/api/readable.js"],"sourcesContent":["// Ported from https://github.com/nodejs/undici/pull/907\n\n'use strict'\n\nconst assert = require('assert')\nconst { Readable } = require('stream')\nconst { RequestAbortedError, NotSupportedError, InvalidArgumentError } = require('../core/errors')\nconst util = require('../core/util')\nconst { ReadableStreamFrom, toUSVString } = require('../core/util')\n\nlet Blob\n\nconst kConsume = Symbol('kConsume')\nconst kReading = Symbol('kReading')\nconst kBody = Symbol('kBody')\nconst kAbort = Symbol('abort')\nconst kContentType = Symbol('kContentType')\n\nmodule.exports = class BodyReadable extends Readable {\n  constructor ({\n    resume,\n    abort,\n    contentType = '',\n    highWaterMark = 64 * 1024 // Same as nodejs fs streams.\n  }) {\n    super({\n      autoDestroy: true,\n      read: resume,\n      highWaterMark\n    })\n\n    this._readableState.dataEmitted = false\n\n    this[kAbort] = abort\n    this[kConsume] = null\n    this[kBody] = null\n    this[kContentType] = contentType\n\n    // Is stream being consumed through Readable API?\n    // This is an optimization so that we avoid checking\n    // for 'data' and 'readable' listeners in the hot path\n    // inside push().\n    this[kReading] = false\n  }\n\n  destroy (err) {\n    if (this.destroyed) {\n      // Node < 16\n      return this\n    }\n\n    if (!err && !this._readableState.endEmitted) {\n      err = new RequestAbortedError()\n    }\n\n    if (err) {\n      this[kAbort]()\n    }\n\n    return super.destroy(err)\n  }\n\n  emit (ev, ...args) {\n    if (ev === 'data') {\n      // Node < 16.7\n      this._readableState.dataEmitted = true\n    } else if (ev === 'error') {\n      // Node < 16\n      this._readableState.errorEmitted = true\n    }\n    return super.emit(ev, ...args)\n  }\n\n  on (ev, ...args) {\n    if (ev === 'data' || ev === 'readable') {\n      this[kReading] = true\n    }\n    return super.on(ev, ...args)\n  }\n\n  addListener (ev, ...args) {\n    return this.on(ev, ...args)\n  }\n\n  off (ev, ...args) {\n    const ret = super.off(ev, ...args)\n    if (ev === 'data' || ev === 'readable') {\n      this[kReading] = (\n        this.listenerCount('data') > 0 ||\n        this.listenerCount('readable') > 0\n      )\n    }\n    return ret\n  }\n\n  removeListener (ev, ...args) {\n    return this.off(ev, ...args)\n  }\n\n  push (chunk) {\n    if (this[kConsume] && chunk !== null && this.readableLength === 0) {\n      consumePush(this[kConsume], chunk)\n      return this[kReading] ? super.push(chunk) : true\n    }\n    return super.push(chunk)\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-text\n  async text () {\n    return consume(this, 'text')\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-json\n  async json () {\n    return consume(this, 'json')\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-blob\n  async blob () {\n    return consume(this, 'blob')\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-arraybuffer\n  async arrayBuffer () {\n    return consume(this, 'arrayBuffer')\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-formdata\n  async formData () {\n    // TODO: Implement.\n    throw new NotSupportedError()\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-bodyused\n  get bodyUsed () {\n    return util.isDisturbed(this)\n  }\n\n  // https://fetch.spec.whatwg.org/#dom-body-body\n  get body () {\n    if (!this[kBody]) {\n      this[kBody] = ReadableStreamFrom(this)\n      if (this[kConsume]) {\n        // TODO: Is this the best way to force a lock?\n        this[kBody].getReader() // Ensure stream is locked.\n        assert(this[kBody].locked)\n      }\n    }\n    return this[kBody]\n  }\n\n  async dump (opts) {\n    let limit = opts && Number.isFinite(opts.limit) ? opts.limit : 262144\n    const signal = opts && opts.signal\n    const abortFn = () => {\n      this.destroy()\n    }\n    if (signal) {\n      if (typeof signal !== 'object' || !('aborted' in signal)) {\n        throw new InvalidArgumentError('signal must be an AbortSignal')\n      }\n      util.throwIfAborted(signal)\n      signal.addEventListener('abort', abortFn, { once: true })\n    }\n    try {\n      for await (const chunk of this) {\n        util.throwIfAborted(signal)\n        limit -= Buffer.byteLength(chunk)\n        if (limit < 0) {\n          return\n        }\n      }\n    } catch {\n      util.throwIfAborted(signal)\n    } finally {\n      if (signal) {\n        signal.removeEventListener('abort', abortFn)\n      }\n    }\n  }\n}\n\n// https://streams.spec.whatwg.org/#readablestream-locked\nfunction isLocked (self) {\n  // Consume is an implicit lock.\n  return (self[kBody] && self[kBody].locked === true) || self[kConsume]\n}\n\n// https://fetch.spec.whatwg.org/#body-unusable\nfunction isUnusable (self) {\n  return util.isDisturbed(self) || isLocked(self)\n}\n\nasync function consume (stream, type) {\n  if (isUnusable(stream)) {\n    throw new TypeError('unusable')\n  }\n\n  assert(!stream[kConsume])\n\n  return new Promise((resolve, reject) => {\n    stream[kConsume] = {\n      type,\n      stream,\n      resolve,\n      reject,\n      length: 0,\n      body: []\n    }\n\n    stream\n      .on('error', function (err) {\n        consumeFinish(this[kConsume], err)\n      })\n      .on('close', function () {\n        if (this[kConsume].body !== null) {\n          consumeFinish(this[kConsume], new RequestAbortedError())\n        }\n      })\n\n    process.nextTick(consumeStart, stream[kConsume])\n  })\n}\n\nfunction consumeStart (consume) {\n  if (consume.body === null) {\n    return\n  }\n\n  const { _readableState: state } = consume.stream\n\n  for (const chunk of state.buffer) {\n    consumePush(consume, chunk)\n  }\n\n  if (state.endEmitted) {\n    consumeEnd(this[kConsume])\n  } else {\n    consume.stream.on('end', function () {\n      consumeEnd(this[kConsume])\n    })\n  }\n\n  consume.stream.resume()\n\n  while (consume.stream.read() != null) {\n    // Loop\n  }\n}\n\nfunction consumeEnd (consume) {\n  const { type, body, resolve, stream, length } = consume\n\n  try {\n    if (type === 'text') {\n      resolve(toUSVString(Buffer.concat(body)))\n    } else if (type === 'json') {\n      resolve(JSON.parse(Buffer.concat(body)))\n    } else if (type === 'arrayBuffer') {\n      const dst = new Uint8Array(length)\n\n      let pos = 0\n      for (const buf of body) {\n        dst.set(buf, pos)\n        pos += buf.byteLength\n      }\n\n      resolve(dst)\n    } else if (type === 'blob') {\n      if (!Blob) {\n        Blob = require('buffer').Blob\n      }\n      resolve(new Blob(body, { type: stream[kContentType] }))\n    }\n\n    consumeFinish(consume)\n  } catch (err) {\n    stream.destroy(err)\n  }\n}\n\nfunction consumePush (consume, chunk) {\n  consume.length += chunk.length\n  consume.body.push(chunk)\n}\n\nfunction consumeFinish (consume, err) {\n  if (consume.body === null) {\n    return\n  }\n\n  if (err) {\n    consume.reject(err)\n  } else {\n    consume.resolve()\n  }\n\n  consume.type = null\n  consume.stream = null\n  consume.resolve = null\n  consume.reject = null\n  consume.length = 0\n  consume.body = null\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}